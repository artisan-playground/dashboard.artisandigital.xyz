# Migration `20201103032619`

This migration has been generated by Kullanan at 11/3/2020, 10:26:19 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Project" DROP COLUMN "projectImage",
ADD COLUMN "projectImageId" integer   

CREATE TABLE "public"."ProjectImage" (
"id" SERIAL,
"endpoint" text   NOT NULL ,
"path" text   NOT NULL ,
"fullPath" text   NOT NULL ,
"fileName" text   NOT NULL ,
"extension" text   NOT NULL ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Project" ADD FOREIGN KEY("projectImageId")REFERENCES "public"."ProjectImage"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201103022223..20201103032619
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id         Int             @id @default(autoincrement())
@@ -41,9 +41,9 @@
   id            Int             @id @default(autoincrement())
   projectName   String?
   projectType   String?
   projectDetail String?
-  projectImage  String?
+  projectImage  ProjectImage?
   status        String?         @default(value: "undone")
   dueDate       DateTime?
   members       User[]
   tasks         Task[]
@@ -104,8 +104,17 @@
   fileName  String
   extension String
 }
+model ProjectImage {
+  id        Int     @id @default(autoincrement())
+  endpoint  String
+  path      String
+  fullPath  String
+  fileName  String
+  extension String
+}
+
 enum Role {
   ADMIN
   USER
 }
```



# Migration `20201105062908`

This migration has been generated by Kullanan Thanachotnan at 11/5/2020, 1:29:08 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."File" DROP COLUMN "endpoint",
DROP COLUMN "fullPath"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201103032619..20201105062908
--- datamodel.dml
+++ datamodel.dml
@@ -3,16 +3,17 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id         Int             @id @default(autoincrement())
   email      String          @unique
   name       String
-  image      Image?
+  image      Image?          @relation(fields: [imageId], references: [id])
+  imageId    Int?
   position   String?
   department String?
   type       String?
   skills     String[]
@@ -37,17 +38,18 @@
   User      User[]
 }
 model Project {
-  id            Int             @id @default(autoincrement())
-  projectName   String?
-  projectType   String?
-  projectDetail String?
-  projectImage  ProjectImage?
-  status        String?         @default(value: "undone")
-  dueDate       DateTime?
-  members       User[]
-  tasks         Task[]
+  id              Int             @id @default(autoincrement())
+  projectName     String?
+  projectType     String?
+  projectDetail   String?
+  projectImage    ProjectImage?   @relation(fields: [projectImageId], references: [id])
+  projectImageId  Int?
+  status          String?         @default(value: "undone")
+  dueDate         DateTime?
+  members         User[]
+  tasks           Task[]
 }
 model Task {
   id         Int          @id @default(autoincrement())
@@ -65,11 +67,9 @@
 model File {
   task      Task
   id        Int     @id @default(autoincrement())
-  endpoint  String
   path      String
-  fullPath  String
   fileName  String
   extension String
 }
@@ -85,9 +85,9 @@
   replyId   Int?
   reply     Comment?   @relation("ReplyComment", fields: [replyId], references: [id])
 }
-model Event{
+model Event {
   id        Int        @id @default(autoincrement())
   eventDate DateTime?  @default(now())
   endDate   DateTime?
   eventName String
```



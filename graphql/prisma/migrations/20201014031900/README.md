# Migration `20201014031900`

This migration has been generated by Kullanan at 10/14/2020, 10:19:00 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "eventId" integer   

CREATE TABLE "public"."Event" (
"id" SERIAL,
"eventDate" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"endDate" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"eventName" text   ,
"note" text   ,
"tag" text   ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."User" ADD FOREIGN KEY ("eventId")REFERENCES "public"."Event"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201013070348..20201014031900
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id         Int             @id @default(autoincrement())
@@ -80,8 +80,18 @@
   replyId   Int?
   reply     Comment?  @relation("ReplyComment", fields: [replyId], references: [id])
 }
+model Event{
+  id        Int       @id @default(autoincrement())
+  eventDate DateTime  @default(now())
+  endDate   DateTime  @default(now())
+  eventName String?
+  note      String?
+  tag       String?
+  invited   User[]
+}
+
 enum Role {
   ADMIN
   USER
 }
```


